import{Q as q,c as _}from"./QItemLabel.de72d5e0.js";import{Q as B,a as P,b as T}from"./QTabPanels.1d842af2.js";import{i as S,a4 as F,r as D,o as n,b as r,e as t,aD as A,a9 as y,g as $,c as k,a as o,a0 as I,a1 as M,a3 as U,aK as w,K as O,t as E,w as a,aM as G,aN as K,Q as W,a6 as z,_ as H,aa as J}from"./index.66a65c15.js";import{Q as L}from"./QList.b75817be.js";import{Q as R,a as X}from"./QTabs.0d47935c.js";import{u as Q}from"./use-quasar.967395eb.js";import{a as N}from"./vee-validate.esm.06ebb446.js";import{Q as x}from"./QSelect.6fdaa0a2.js";import"./TouchPan.90bfa80e.js";import"./touch.3df10340.js";import"./selection.8299b8f1.js";import"./use-panel.922a25db.js";import"./QResizeObserver.ae498396.js";import"./rtl.b51694b1.js";const Y={key:0},Z=S({__name:"decorator-editor",props:["modelValue"],emits:["update:modelValue"],setup(g,{emit:C}){const b=g;Q(),F();const e=D({service:b.modelValue,access:["Public","Private","Internal"],methodTypes:["GET","POST","PUT","DELETE","Any"]});function V(){return e.service.data.isPublic?"Public":e.service.data.isInternal?"Internal":"Private"}function p(u){delete e.service.data.isPublic,delete e.service.data.isInternal,delete e.service.data.isEvent,u=="Public"&&(e.service.data.isPublic=!0),u=="Internal"&&(e.service.data.isInternal=!0)}return(u,d)=>(n(),r("div",null,[e.service.name=="OriService"?(n(),r("div",Y,[t(x,{outlined:"","model-value":V(),"onUpdate:modelValue":p,options:e.access,label:"Access"},null,8,["model-value","options"]),t(A,{label:"isEvent",modelValue:e.service.data.isEvent,"onUpdate:modelValue":d[0]||(d[0]=l=>e.service.data.isEvent=l)},null,8,["modelValue"]),t(x,{outlined:"",modelValue:e.service.data.method,"onUpdate:modelValue":d[1]||(d[1]=l=>e.service.data.method=l),options:e.methodTypes,label:"Method"},null,8,["modelValue","options"]),t(y,{modelValue:e.service.data.service,"onUpdate:modelValue":d[2]||(d[2]=l=>e.service.data.service=l),outlined:"",label:"Service"},null,8,["modelValue"]),t(y,{modelValue:e.service.data.route,"onUpdate:modelValue":d[3]||(d[3]=l=>e.service.data.route=l),outlined:"",label:"Route"},null,8,["modelValue"])])):$("",!0)]))}}),ee={class:"row",style:{width:"500px","border-style":"solid"}},j=S({__name:"input-variable",props:["modelValue","hideType"],emits:["update:modelValue"],setup(g,{emit:C}){const b=g;Q(),F();const e=D({variables:b.modelValue,decoratores:["Odata","Session","Event","Data"],types:["string","number","boolean"]});return(V,p)=>(n(),r("div",ee,[t(y,{modelValue:e.variables.name,"onUpdate:modelValue":p[0]||(p[0]=u=>e.variables.name=u),outlined:"",label:"Name"},null,8,["modelValue"]),t(A,{label:"isRequired",modelValue:e.variables.isRequired,"onUpdate:modelValue":p[1]||(p[1]=u=>e.variables.isRequired=u)},null,8,["modelValue"]),b.hideType?$("",!0):(n(),k(x,{key:0,outlined:"",modelValue:e.variables.decorator.name,"onUpdate:modelValue":p[2]||(p[2]=u=>e.variables.decorator.name=u),options:e.decoratores,label:"Input Type"},null,8,["modelValue","options"])),t(x,{outlined:"",modelValue:e.variables.classType,"onUpdate:modelValue":p[3]||(p[3]=u=>e.variables.classType=u),options:e.types,label:"Class Type"},null,8,["modelValue","options"])]))}}),le={class:"row",style:{width:"243%"}},te={class:"col-6"},oe={class:"row"},ae=S({__name:"service-config",props:["modelValue"],emits:["update:modelValue"],setup(g,{emit:C}){const b=g;Q(),F();const e=D({service:b.modelValue});N("name");function V(){e.service.variables.push(new w.InputVariable({decorator:{},name:"var"+(e.service.variables.length+1)}))}return(p,u)=>(n(),r("div",le,[o("div",null,[(n(!0),r(I,null,M(e.service.decorators,(d,l)=>(n(),r("div",{key:l},[t(Z,{modelValue:e.service.decorators[l],"onUpdate:modelValue":s=>e.service.decorators[l]=s},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),o("div",te,[o("div",oe,[U(" Input Variables :s "),o("button",{class:"btn-squar btn-yellow",onClick:u[0]||(u[0]=d=>V())}," + ")]),(n(!0),r(I,null,M(e.service.variables,(d,l)=>(n(),r("div",{key:l},[t(j,{modelValue:e.service.variables[l],"onUpdate:modelValue":s=>e.service.variables[l]=s},null,8,["modelValue","onUpdate:modelValue"])]))),128))])]))}}),ne={class:"row",style:{width:"243%"}},se={class:"col-6"},de={class:"row"},ue=S({__name:"function-config",props:["modelValue"],emits:["update:modelValue"],setup(g,{emit:C}){const b=g;Q(),F();const e=D({functions:b.modelValue});N("name");function V(){e.functions.variables.push(new w.InputVariable({decorator:{},name:"var"+(e.functions.variables.length+1)}))}return(p,u)=>(n(),r("div",ne,[o("div",se,[o("div",de,[U(" Input Variables : "),o("button",{class:"btn-squar btn-yellow",onClick:u[0]||(u[0]=d=>V())}," + ")]),(n(!0),r(I,null,M(e.functions.variables,(d,l)=>(n(),r("div",{key:l},[t(j,{modelValue:e.functions.variables[l],"onUpdate:modelValue":s=>e.functions.variables[l]=s,hideType:!0},null,8,["modelValue","onUpdate:modelValue"])]))),128))])]))}}),ie={class:"row",style:{width:"243%"}},re={class:"col-6"},me={class:"row"},ce=S({__name:"model-config",props:["modelValue"],emits:["update:modelValue"],setup(g,{emit:C}){const b=g;Q();const e=F(),V=D({entity:b.modelValue,types:["string","number","boolean"]});O(()=>{for(let u of e.project.modules)for(let d of u.models)V.types.push(u.name+"."+d.name)}),N("name");function p(){V.entity.properies.push(new w.PropertyModel({decorator:{name:"OriProps",data:{isRequired:!1}},isArray:!1,name:"prop"+(V.entity.properies.length+1)}))}return(u,d)=>(n(),r("div",ie,[o("div",re,[o("div",me,[U(" Properties : "),o("button",{class:"btn-squar btn-yellow",onClick:d[0]||(d[0]=l=>p())}," + "),(n(!0),r(I,null,M(V.entity.properies,(l,s)=>(n(),r("div",{key:s},[U(E(l)+" ",1),t(y,{modelValue:l.name,"onUpdate:modelValue":v=>l.name=v,outlined:"",label:"Name"},null,8,["modelValue","onUpdate:modelValue"]),t(y,{modelValue:l.defaultValue,"onUpdate:modelValue":v=>l.defaultValue=v,outlined:"",label:"DefaultValue"},null,8,["modelValue","onUpdate:modelValue"]),t(y,{modelValue:l.maxLength,"onUpdate:modelValue":v=>l.maxLength=v,outlined:"",label:"Max Length"},null,8,["modelValue","onUpdate:modelValue"]),t(y,{modelValue:l.minLength,"onUpdate:modelValue":v=>l.minLength=v,outlined:"",label:"Min Length"},null,8,["modelValue","onUpdate:modelValue"]),t(A,{label:"Required",modelValue:l.decorator.data.isRequired,"onUpdate:modelValue":v=>l.decorator.data.isRequired=v},null,8,["modelValue","onUpdate:modelValue"]),t(A,{label:"Array",modelValue:l.isArray,"onUpdate:modelValue":v=>l.isArray=v},null,8,["modelValue","onUpdate:modelValue"]),t(x,{outlined:"",modelValue:l.type,"onUpdate:modelValue":v=>l.type=v,options:V.types,label:"Class Type"},null,8,["modelValue","onUpdate:modelValue","options"]),t(y,{modelValue:l.description,"onUpdate:modelValue":v=>l.description=v,outlined:"",label:"Description"},null,8,["modelValue","onUpdate:modelValue"])]))),128))])])]))}}),pe={class:"row"},ve={class:"col-12 row"},be=o("div",{class:"col-12"},null,-1),Ve={class:"row"},fe={key:1,class:"col-12"},_e=o("div",{class:"text-h6"},"Search",-1),ye=o("div",{class:"text-h6"},"Insert",-1),ge=o("div",{class:"text-h6"},"Update",-1),Ue=o("div",{class:"text-h6"},"Delete",-1),he=o("div",{class:"col-12"},null,-1),ke=S({__name:"diagram",props:["modelValue"],emits:["update:modelValue"],setup(g,{emit:C}){Q();const b=F(),e=D({showMongo:!1,dbnames:[],selectedDb:"",collections:[],selectedCollection:new w.MongoCollection({}),panel:"search",variable:""});O(()=>{e.dbnames=b.project.mongoDatabses.map(d=>d.name)});function V(d){}function p(d){console.log(d)}function u(d){e.selectedCollection=new w.MongoCollection({}),e.selectedDb=d,e.collections=b.project.mongoDatabses.filter(l=>l.name==d)[0].schemas}return(d,l)=>(n(),r("div",null,[o("div",pe,[o("div",ve,[o("button",{class:"btn-squar btn-green",onClick:l[0]||(l[0]=s=>p("For"))}," For "),o("button",{class:"btn-squar btn-green",onClick:l[1]||(l[1]=s=>p("Foreach")),style:{width:"70px"}}," Foreach "),o("button",{class:"btn-squar btn-green",onClick:l[2]||(l[2]=s=>p("While"))}," While "),o("button",{class:"btn-squar btn-green",onClick:l[3]||(l[3]=s=>void 0),style:{width:"70px"}}," IF "),o("button",{class:"btn-squar btn-green",onClick:l[4]||(l[4]=s=>e.showMongo=!0)}," Mongo ")]),be]),t(W,{modelValue:e.showMongo,"onUpdate:modelValue":l[10]||(l[10]=s=>e.showMongo=s)},{default:a(()=>[t(G,{style:{"min-width":"800px"}},{default:a(()=>[o("div",Ve,[t(x,{class:"col-2",outlined:"","onUpdate:modelValue":[u,l[5]||(l[5]=s=>e.selectedDb=s)],modelValue:e.selectedDb,options:e.dbnames,label:"Databse Name"},null,8,["modelValue","options"]),e.selectedDb?(n(),k(x,{key:0,class:"col-2",outlined:"",modelValue:e.selectedCollection,"onUpdate:modelValue":l[6]||(l[6]=s=>e.selectedCollection=s),"option-value":s=>s.name,"option-label":s=>s.name,options:e.collections,label:"Collections"},null,8,["modelValue","option-value","option-label","options"])):$("",!0),e.selectedDb?(n(),r("div",fe,[t(K,{modelValue:e.panel,"onUpdate:modelValue":l[7]||(l[7]=s=>e.panel=s),inline:"",options:[{label:"Search",value:"search"},{label:"Insert",value:"insert"},{label:"Update",value:"update"},{label:"Delete",value:"delete"}]},null,8,["modelValue"]),t(B,{modelValue:e.panel,"onUpdate:modelValue":l[9]||(l[9]=s=>e.panel=s),animated:"",class:"shadow-2 rounded-borders"},{default:a(()=>[t(P,{name:"search"},{default:a(()=>[_e,t(y,{modelValue:e.variable,"onUpdate:modelValue":l[8]||(l[8]=s=>e.variable=s),outlined:"",label:"Variable"},null,8,["modelValue"])]),_:1}),t(P,{name:"insert"},{default:a(()=>[ye,U(" Lorem ipsum dolor sit amet consectetur adipisicing elit. ")]),_:1}),t(P,{name:"update"},{default:a(()=>[ge,U(" Lorem ipsum dolor sit amet consectetur adipisicing elit. ")]),_:1}),t(P,{name:"delete"},{default:a(()=>[Ue,U(" Lorem ipsum dolor sit amet consectetur adipisicing elit. ")]),_:1})]),_:1},8,["modelValue"])])):$("",!0),he])]),_:1})]),_:1},8,["modelValue"])]))}}),$e={key:0,class:"card"},we={class:"card-header"},Ce={class:"title"},Ie={class:"card-body"},Me={class:"row"},xe={class:"q-pa-md",style:{"max-width":"350px"}},Se=o("i",{class:"text-md fas fa-trash-alt"},null,-1),Fe=[Se],De=o("i",{class:"text-md fas fa-trash-alt"},null,-1),Qe=[De],qe=o("i",{class:"text-md fas fa-trash-alt"},null,-1),Te=[qe],Pe=["onClick"],Ae={key:0},Le={key:1},Ee={key:2},ll=S({__name:"edit-manual-module",setup(g){Q();const C=F();z();const b=H(),e=D({module:C.project.modules.filter(m=>m.name==b.params.name)[0],selectedService:null,selectedFunction:null,tab:"config",selectedIndex:-1,selectedIndexFunction:-1});function V(){e.module.models||(e.module.models=[]);let m=new w.EntityModel({decorator:new w.DecoratorModel({name:"OriModel"})});m.name="model"+(e.module.models.length+1),e.module.models.push(m)}function p(){e.module.functions.push(new w.FunctionModel({name:"function"+(e.module.functions.length+1)}))}function u(){e.module.services.push(new w.ServiceModel({name:"service"+(e.module.services.length+1),decorators:[{name:"OriService",data:{isEvent:!1,method:"Any"}}]}))}function d(m,i){console.log(m),e.selectedIndex=i,e.selectedIndexFunction=-1,e.selectedIndexModel=-1,e.selectedService=m}function l(m,i){console.log(m),e.selectedIndex=-1,e.selectedIndexFunction=i,e.selectedIndexModel=-1,e.selectedFunction=m}function s(m,i){console.log(m),e.selectedIndex=-1,e.selectedIndexFunction=-1,e.selectedIndexModel=i,e.selectedModel=m}async function v(){await J.save(C.project)}function Ne(m,i){}return(m,i)=>e.module?(n(),r("div",$e,[o("div",we,[o("span",Ce,E(e.module.name)+" Module",1),o("button",{class:"btn btn-green",onClick:v},"Save Project")]),o("div",Ie,[o("div",Me,[o("div",xe,[t(L,{bordered:"",separator:""},{default:a(()=>[t(T,null,{default:a(()=>[t(q,null,{default:a(()=>[t(_,null,{default:a(()=>[U(" Services : ")]),_:1}),t(_,{avatar:""},{default:a(()=>[o("button",{class:"btn btn-green",onClick:u}," Add Service ")]),_:1})]),_:1})]),_:1}),(n(!0),r(I,null,M(e.module.services,(c,h)=>(n(),k(T,{key:h,onClick:f=>d(c,h)},{default:a(()=>[t(q,null,{default:a(()=>[t(_,{avatar:""},{default:a(()=>[o("button",{class:"btn-squar btn-red",onClick:i[0]||(i[0]=f=>m.removeService(m.item))},Fe)]),_:1}),t(_,null,{default:a(()=>[t(y,{modelValue:c.name,"onUpdate:modelValue":f=>c.name=f,outlined:"",label:"Name"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),t(L,{bordered:"",separator:""},{default:a(()=>[t(T,null,{default:a(()=>[t(q,null,{default:a(()=>[t(_,null,{default:a(()=>[U(" Functions : ")]),_:1}),t(_,{avatar:""},{default:a(()=>[o("button",{class:"btn btn-green",onClick:p}," Add Function ")]),_:1})]),_:1})]),_:1}),(n(!0),r(I,null,M(e.module.functions,(c,h)=>(n(),k(T,{key:h,onClick:f=>l(c,h)},{default:a(()=>[t(q,null,{default:a(()=>[t(_,{avatar:""},{default:a(()=>[o("button",{class:"btn-squar btn-red",onClick:i[1]||(i[1]=f=>m.removeFunction(m.item))},Qe)]),_:1}),t(_,null,{default:a(()=>[t(y,{modelValue:c.name,"onUpdate:modelValue":f=>c.name=f,outlined:"",label:"Name"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),t(L,{bordered:"",separator:""},{default:a(()=>[t(T,null,{default:a(()=>[t(q,null,{default:a(()=>[t(_,null,{default:a(()=>[U(" Models : ")]),_:1}),t(_,{avatar:""},{default:a(()=>[o("button",{class:"btn btn-green",onClick:V}," Add Model ")]),_:1})]),_:1})]),_:1}),(n(!0),r(I,null,M(e.module.models,(c,h)=>(n(),k(T,{key:h,onClick:f=>s(c,h)},{default:a(()=>[t(q,null,{default:a(()=>[t(_,{avatar:""},{default:a(()=>[o("button",{class:"btn-squar btn-red",onClick:i[2]||(i[2]=f=>m.removeModel(m.item))},Te),o("button",{class:"btn-squar btn-green",onClick:f=>(m.item,void 0)}," DB ",8,Pe)]),_:2},1024),t(_,null,{default:a(()=>[t(y,{modelValue:c.name,"onUpdate:modelValue":f=>c.name=f,outlined:"",label:"Name"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),e.selectedIndexModel>-1?(n(),r("div",Ae,[(n(),k(ce,{modelValue:e.selectedModel,"onUpdate:modelValue":i[3]||(i[3]=c=>e.selectedModel=c),key:e.selectedModel.name+e.selectedIndexModel},null,8,["modelValue"]))])):$("",!0),e.selectedIndexFunction>-1?(n(),r("div",Le,[(n(),k(ue,{modelValue:e.selectedFunction,"onUpdate:modelValue":i[4]||(i[4]=c=>e.selectedFunction=c),key:e.selectedFunction.name+e.selectedIndexFunction},null,8,["modelValue"]))])):$("",!0),e.selectedIndex>-1?(n(),r("div",Ee,[U(E(e.selectedIndex)+" ",1),t(X,{modelValue:e.tab,"onUpdate:modelValue":i[5]||(i[5]=c=>e.tab=c),"no-caps":"",class:"bg-orange text-white shadow-2"},{default:a(()=>[t(R,{name:"config",label:"Config"}),t(R,{name:"diagram",label:"Diagram"})]),_:1},8,["modelValue"]),e.tab=="config"?(n(),k(ae,{modelValue:e.selectedService,"onUpdate:modelValue":i[6]||(i[6]=c=>e.selectedService=c),key:e.selectedService.name+e.selectedIndex},null,8,["modelValue"])):$("",!0),(n(),k(ke,{modelValue:e.selectedService,"onUpdate:modelValue":i[7]||(i[7]=c=>e.selectedService=c),key:e.selectedService.name+e.selectedIndex},null,8,["modelValue"]))])):$("",!0)])])])):$("",!0)}});export{ll as default};
