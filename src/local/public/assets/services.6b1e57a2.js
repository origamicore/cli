import{m as w,bg as h,bi as D,ab as x,ah as C,r as V,bm as I,ac as A,o as c,b,w as y,h as _,d as a,bh as R,ai as S,e as g,ad as $,ae as B,ag as N,t as O,k as Q,aE as j}from"./index.da47becb.js";import{u as T}from"./use-quasar.015d7623.js";import{a as L,Q as k}from"./QTabs.c991515f.js";import"./QResizeObserver.5dc637a9.js";import"./rtl.b51694b1.js";const P={class:"mt-5 px-2"},q=w({__name:"service-dialog",props:["show","service"],emits:["closeDialog"],setup(f,{emit:d}){const l=f,m=h(()=>D(()=>import("./decorators.fe50ea7e.js"),["assets/decorators.fe50ea7e.js","assets/QSelect.f6cc18b0.js","assets/index.da47becb.js","assets/index.7026ac79.css","assets/QItemLabel.a4a1797c.js","assets/rtl.b51694b1.js","assets/ServicTypes.b727c376.js"])),s=h(()=>D(()=>import("./variables.08e260b4.js"),["assets/variables.08e260b4.js","assets/variables.8b5e6335.css","assets/index.da47becb.js","assets/index.7026ac79.css","assets/QSelect.f6cc18b0.js","assets/QItemLabel.a4a1797c.js","assets/rtl.b51694b1.js","assets/ServicTypes.b727c376.js","assets/plugin-vue_export-helper.21dcd24c.js"]));T();const v=x(),p=C(),n=V({selectedTab:"decorators",service:structuredClone(I(l.service))});function u(){d("closeDialog")}async function r(){const o=p.project.modules.find(e=>e.name==v.params.name);if(o!=null){const e=o==null?void 0:o.services.findIndex(t=>t.name==l.service.name);e!=-1&&(o.services[e]=n.service,u())}}return(o,e)=>{const t=A("Dialog");return c(),b(t,{show:l.show,title:"Edit Detail",onCloseDialog:u,onConfirmDialog:r},{default:y(()=>[_(L,{modelValue:n.selectedTab,"onUpdate:modelValue":e[0]||(e[0]=i=>n.selectedTab=i),dense:"",class:"bg-gray-300 dark:bg-gray-700 rounded-md","active-color":"primary","indicator-color":"primary",align:"justify"},{default:y(()=>[_(k,{name:"decorators",label:"Decorators"}),_(k,{name:"variables",label:"Variables"})]),_:1},8,["modelValue"]),a("div",P,[(c(),b(R(n.selectedTab=="decorators"?S(m):S(s)),{service:n.service},null,8,["service"]))])]),_:1},8,["show"])}}}),F=a("span",null,"Services:",-1),M={class:"flex items-center gap-1"},U=["onClick"],z=["onClick"],G=a("i",{class:"text-md fas fa-trash-alt"},null,-1),H=[G],Z=w({__name:"services",setup(f){const d=C(),l=x(),m=T(),s=V({module:d.project.modules.filter(r=>r.name==l.params.name)[0],selectedService:null,showServiceDialog:!1});function v(){s.module.services.push(new j.ServiceModel({name:"service"+(s.module.services.length+1),decorators:[{name:"OriService",data:{isEvent:!1,method:"Any"}}]}))}function p(r,o){m.dialog({title:"Remove Service",message:"Are you sure you would like to remove this service?",dark:d.isDark,cancel:!0}).onOk(async()=>{var t,i;const e=(t=s.module)==null?void 0:t.services.findIndex(E=>E.name==r.name);e!=-1&&o==e&&((i=s.module)==null||i.services.splice(e,1))})}function n(r,o){s.showServiceDialog=!0,s.selectedService=r}function u(){s.showServiceDialog=!1,s.selectedService=null}return(r,o)=>(c(),g("div",null,[a("div",{class:"px-4 py-2 flex-between rounded-lg bg-gray-300 dark:bg-gray-700"},[F,a("button",{class:"btn btn-green",onClick:v}," Add Service ")]),(c(!0),g($,null,B(s.module.services,(e,t)=>(c(),g("div",{key:t,class:"px-4 py-2 mt-2 flex-between rounded-lg bg-gray-300 dark:bg-gray-700"},[a("span",null,[N("Service name: "),a("b",null,O(e.name),1)]),a("div",M,[a("button",{class:"btn btn-blue",onClick:i=>n(e)}," Detail ",8,U),a("button",{class:"btn-squar btn-red",onClick:i=>p(e,t)},H,8,z)])]))),128)),s.showServiceDialog?(c(),b(q,{key:0,show:s.showServiceDialog,service:s.selectedService,onCloseDialog:u},null,8,["show","service"])):Q("",!0)]))}});export{Z as default};
