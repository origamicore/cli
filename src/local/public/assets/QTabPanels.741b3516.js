import{T as H,g as R,s as W}from"./QList.053a2baa.js";import{v as V,W as Y,Y as K,O as I,B as S,aJ as Z,I as ee,C as q,D as _,f as te,E as F,c as ne,ap as D,J as ie,aq as re,ar as E,as as M,av as X,aa as B,aw as L,G as oe,a0 as ae,a3 as se,aK as le,aL as ue,a1 as ce}from"./index.da47becb.js";import{d as de}from"./QItemLabel.a4a1797c.js";function U(){const t=new Map;return{getCache:function(n,u){return t[n]===void 0?t[n]=u:t[n]},getCacheWithFn:function(n,u){return t[n]===void 0?t[n]=u():t[n]}}}const j=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];var Pe=V({name:"QSlideItem",props:{...Y,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(t,{slots:n,emit:u}){const{proxy:m}=F(),{$q:l}=m,e=K(t,l),{getCacheWithFn:i}=U(),d=I(null);let b=null,o={},p={},P={};const s=S(()=>l.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),C=S(()=>"q-slide-item q-item-type overflow-hidden"+(e.value===!0?" q-slide-item--dark q-dark":""));function w(){d.value.style.transform="translate(0,0)"}function k(a,y,v){t.onSlide!==void 0&&u("slide",{side:a,ratio:y,isReset:v})}function $(a){const y=d.value;if(a.isFirst)o={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},y.classList.add("no-transition"),j.forEach(c=>{if(n[c[0]]!==void 0){const x=P[c[0]];x.style.transform="scale(1)",o.size[c[0]]=x.getBoundingClientRect()[c[3]]}}),o.axis=a.direction==="up"||a.direction==="down"?"Y":"X";else if(a.isFinal){y.classList.remove("no-transition"),o.scale===1?(y.style.transform=`translate${o.axis}(${o.dir*100}%)`,b!==null&&clearTimeout(b),b=setTimeout(()=>{b=null,u(o.showing,{reset:w}),u("action",{side:o.showing,reset:w})},230)):(y.style.transform="translate(0,0)",k(o.showing,0,!0));return}else a.direction=o.axis==="X"?a.offset.x<0?"left":"right":a.offset.y<0?"up":"down";if(n.left===void 0&&a.direction===s.value.right||n.right===void 0&&a.direction===s.value.left||n.top===void 0&&a.direction==="down"||n.bottom===void 0&&a.direction==="up"){y.style.transform="translate(0,0)";return}let v,h,g;o.axis==="X"?(h=a.direction==="left"?-1:1,v=h===1?s.value.left:s.value.right,g=a.distance.x):(h=a.direction==="up"?-2:2,v=h===2?"top":"bottom",g=a.distance.y),!(o.dir!==null&&Math.abs(h)!==Math.abs(o.dir))&&(o.dir!==h&&(["left","right","top","bottom"].forEach(c=>{p[c]&&(p[c].style.visibility=v===c?"visible":"hidden")}),o.showing=v,o.dir=h),o.scale=Math.max(0,Math.min(1,(g-40)/o.size[v])),y.style.transform=`translate${o.axis}(${g*h/Math.abs(h)}px)`,P[v].style.transform=`scale(${o.scale})`,k(v,o.scale,!1))}return Z(()=>{p={},P={}}),ee(()=>{b!==null&&clearTimeout(b)}),Object.assign(m,{reset:w}),()=>{const a=[],y={left:n[s.value.right]!==void 0,right:n[s.value.left]!==void 0,up:n.bottom!==void 0,down:n.top!==void 0},v=Object.keys(y).filter(g=>y[g]===!0);j.forEach(g=>{const c=g[0];n[c]!==void 0&&a.push(q("div",{ref:x=>{p[c]=x},class:`q-slide-item__${c} absolute-full row no-wrap items-${g[1]} justify-${g[2]}`+(t[c+"Color"]!==void 0?` bg-${t[c+"Color"]}`:"")},[q("div",{ref:x=>{P[c]=x}},n[c]())]))});const h=q("div",{key:`${v.length===0?"only-":""} content`,ref:d,class:"q-slide-item__content"},_(n.default));return v.length===0?a.push(h):a.push(te(h,i("dir#"+v.join(""),()=>{const g={prevent:!0,stop:!0,mouse:!0};return v.forEach(c=>{g[c]=!0}),[[H,$,void 0,g]]}))),q("div",{class:C.value},a)}}});function pe(t){const n=[.06,6,50];return typeof t=="string"&&t.length&&t.split(":").forEach((u,m)=>{const l=parseFloat(u);l&&(n[m]=l)}),n}var fe=ne({name:"touch-swipe",beforeMount(t,{value:n,arg:u,modifiers:m}){if(m.mouse!==!0&&D.has.touch!==!0)return;const l=m.mouseCapture===!0?"Capture":"",e={handler:n,sensitivity:pe(u),direction:R(m),noop:ie,mouseStart(i){W(i,e)&&re(i)&&(E(e,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),e.start(i,!0))},touchStart(i){if(W(i,e)){const d=i.target;E(e,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","notPassiveCapture"],[d,"touchend","end","notPassiveCapture"]]),e.start(i)}},start(i,d){D.is.firefox===!0&&M(t,!0);const b=X(i);e.event={x:b.left,y:b.top,time:Date.now(),mouse:d===!0,dir:!1}},move(i){if(e.event===void 0)return;if(e.event.dir!==!1){B(i);return}const d=Date.now()-e.event.time;if(d===0)return;const b=X(i),o=b.left-e.event.x,p=Math.abs(o),P=b.top-e.event.y,s=Math.abs(P);if(e.event.mouse!==!0){if(p<e.sensitivity[1]&&s<e.sensitivity[1]){e.end(i);return}}else if(window.getSelection().toString()!==""){e.end(i);return}else if(p<e.sensitivity[2]&&s<e.sensitivity[2])return;const C=p/d,w=s/d;e.direction.vertical===!0&&p<s&&p<100&&w>e.sensitivity[0]&&(e.event.dir=P<0?"up":"down"),e.direction.horizontal===!0&&p>s&&s<100&&C>e.sensitivity[0]&&(e.event.dir=o<0?"left":"right"),e.direction.up===!0&&p<s&&P<0&&p<100&&w>e.sensitivity[0]&&(e.event.dir="up"),e.direction.down===!0&&p<s&&P>0&&p<100&&w>e.sensitivity[0]&&(e.event.dir="down"),e.direction.left===!0&&p>s&&o<0&&s<100&&C>e.sensitivity[0]&&(e.event.dir="left"),e.direction.right===!0&&p>s&&o>0&&s<100&&C>e.sensitivity[0]&&(e.event.dir="right"),e.event.dir!==!1?(B(i),e.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),de(),e.styleCleanup=k=>{e.styleCleanup=void 0,document.body.classList.remove("non-selectable");const $=()=>{document.body.classList.remove("no-pointer-events--children")};k===!0?setTimeout($,50):$()}),e.handler({evt:i,touch:e.event.mouse!==!0,mouse:e.event.mouse,direction:e.event.dir,duration:d,distance:{x:p,y:s}})):e.end(i)},end(i){e.event!==void 0&&(L(e,"temp"),D.is.firefox===!0&&M(t,!1),e.styleCleanup!==void 0&&e.styleCleanup(!0),i!==void 0&&e.event.dir!==!1&&B(i),e.event=void 0)}};if(t.__qtouchswipe=e,m.mouse===!0){const i=m.mouseCapture===!0||m.mousecapture===!0?"Capture":"";E(e,"main",[[t,"mousedown","mouseStart",`passive${i}`]])}D.has.touch===!0&&E(e,"main",[[t,"touchstart","touchStart",`passive${m.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,n){const u=t.__qtouchswipe;u!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&u.end(),u.handler=n.value),u.direction=R(n.modifiers))},beforeUnmount(t){const n=t.__qtouchswipe;n!==void 0&&(L(n,"main"),L(n,"temp"),D.is.firefox===!0&&M(t,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete t.__qtouchswipe)}});const ve={name:{required:!0},disable:Boolean},O={setup(t,{slots:n}){return()=>q("div",{class:"q-panel scroll",role:"tabpanel"},_(n.default))}},me={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},he=["update:modelValue","beforeTransition","transition"];function ge(){const{props:t,emit:n,proxy:u}=F(),{getCacheWithFn:m}=U();let l,e;const i=I(null),d=I(null);function b(r){const f=t.vertical===!0?"up":"left";x((u.$q.lang.rtl===!0?-1:1)*(r.direction===f?1:-1))}const o=S(()=>[[fe,b,void 0,{horizontal:t.vertical!==!0,vertical:t.vertical,mouse:!0}]]),p=S(()=>t.transitionPrev||`slide-${t.vertical===!0?"down":"right"}`),P=S(()=>t.transitionNext||`slide-${t.vertical===!0?"up":"left"}`),s=S(()=>`--q-transition-duration: ${t.transitionDuration}ms`),C=S(()=>typeof t.modelValue=="string"||typeof t.modelValue=="number"?t.modelValue:String(t.modelValue)),w=S(()=>({include:t.keepAliveInclude,exclude:t.keepAliveExclude,max:t.keepAliveMax})),k=S(()=>t.keepAliveInclude!==void 0||t.keepAliveExclude!==void 0);oe(()=>t.modelValue,(r,f)=>{const T=v(r)===!0?h(r):-1;e!==!0&&c(T===-1?0:T<h(f)?-1:1),i.value!==T&&(i.value=T,n("beforeTransition",r,f),ae(()=>{n("transition",r,f)}))});function $(){x(1)}function a(){x(-1)}function y(r){n("update:modelValue",r)}function v(r){return r!=null&&r!==""}function h(r){return l.findIndex(f=>f.props.name===r&&f.props.disable!==""&&f.props.disable!==!0)}function g(){return l.filter(r=>r.props.disable!==""&&r.props.disable!==!0)}function c(r){const f=r!==0&&t.animated===!0&&i.value!==-1?"q-transition--"+(r===-1?p.value:P.value):null;d.value!==f&&(d.value=f)}function x(r,f=i.value){let T=f+r;for(;T>-1&&T<l.length;){const A=l[T];if(A!==void 0&&A.props.disable!==""&&A.props.disable!==!0){c(r),e=!0,n("update:modelValue",A.props.name),setTimeout(()=>{e=!1});return}T+=r}t.infinite===!0&&l.length!==0&&f!==-1&&f!==l.length&&x(r,r===-1?l.length:-1)}function Q(){const r=h(t.modelValue);return i.value!==r&&(i.value=r),!0}function z(){const r=v(t.modelValue)===!0&&Q()&&l[i.value];return t.keepAlive===!0?[q(ue,w.value,[q(k.value===!0?m(C.value,()=>({...O,name:C.value})):O,{key:C.value,style:s.value},()=>r)])]:[q("div",{class:"q-panel scroll",style:s.value,key:C.value,role:"tabpanel"},[r])]}function N(){if(l.length!==0)return t.animated===!0?[q(se,{name:d.value},z)]:z()}function J(r){return l=le(_(r.default,[])).filter(f=>f.props!==null&&f.props.slot===void 0&&v(f.props.name)===!0),l.length}function G(){return l}return Object.assign(u,{next:$,previous:a,goTo:y}),{panelIndex:i,panelDirectives:o,updatePanelsList:J,updatePanelIndex:Q,getPanelContent:N,getEnabledPanels:g,getPanels:G,isValidPanelName:v,keepAliveProps:w,needsUniqueKeepAliveWrapper:k,goToPanelByOffset:x,goToPanel:y,nextPanel:$,previousPanel:a}}var Ce=V({name:"QTabPanel",props:ve,setup(t,{slots:n}){return()=>q("div",{class:"q-tab-panel",role:"tabpanel"},_(n.default))}}),we=V({name:"QTabPanels",props:{...me,...Y},emits:he,setup(t,{slots:n}){const u=F(),m=K(t,u.proxy.$q),{updatePanelsList:l,getPanelContent:e,panelDirectives:i}=ge(),d=S(()=>"q-tab-panels q-panel-parent"+(m.value===!0?" q-tab-panels--dark q-dark":""));return()=>(l(n),ce("div",{class:d.value},e(),"pan",t.swipeable,()=>i.value))}});export{we as Q,Ce as a,Pe as b};
