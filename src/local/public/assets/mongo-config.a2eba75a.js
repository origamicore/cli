import{ah as g,m as N,aj as Q,r as S,aE as f,H as D,o as i,e as m,ag as p,t as r,d as t,h as o,am as C,ad as h,ae as y,w as l,bj as b,b as j,aH as v,a7 as M,bk as B,j as T}from"./index.da47becb.js";import{Q as q}from"./QSelect.f6cc18b0.js";import{c as A}from"./QItemLabel.a4a1797c.js";import{u as E}from"./use-quasar.015d7623.js";import"./rtl.b51694b1.js";const w=g();class U{static getTypes(){let n=[];for(let e of w.project.modules)for(let c of e.models)n.push(e.name+"."+c.name);return n}static getVariables(n,e,c){w.project.modules.filter(_=>_.name==n)[0]}}const I={class:"card"},F={class:"card-header"},H=t("span",{class:"title"},"Mongo Databses",-1),$={class:"row"},z={class:"card-body row"},L=t("div",{class:"text-overline"},"Mongo Database",-1),R={class:"text-h5 q-mt-sm q-mb-xs"},G={class:"row"},J={class:"row"},K=t("br",null,null,-1),O=t("br",null,null,-1),P=t("br",null,null,-1),W={style:{width:"200px"}},X=["onClick"],Y=t("i",{class:"text-md fas fa-trash-alt"},null,-1),Z=[Y],le=N({__name:"mongo-config",setup(V){E();const n=g();Q();const e=S({databses:[],types:[],dbname:"",newCollection:new f.MongoCollection});D(()=>{e.databses=n.project.mongoDatabses,e.types=U.getTypes()});function c(u){u.schemas.push(e.newCollection),e.newCollection=new f.MongoCollection}function _(){e.databses.push(new f.MongoDatabase({name:e.dbname}))}return(u,s)=>(i(),m("div",I,[p(r(e.databses)+" ",1),t("div",F,[H,t("div",$,[o(C,{modelValue:e.dbname,"onUpdate:modelValue":s[0]||(s[0]=d=>e.dbname=d),outlined:"",label:"Name"},null,8,["modelValue"]),t("button",{class:"btn btn-green",onClick:_},"Add Databse")])]),t("div",z,[(i(!0),m(h,null,y(e.databses,(d,x)=>(i(),m("div",{class:"col-12",key:x},[o(v,{class:"my-card",flat:"",bordered:""},{default:l(()=>[o(b,{horizontal:""},{default:l(()=>[o(b,{class:"q-pt-xs"},{default:l(()=>[L,t("div",R,r(d.name),1),t("div",G,[t("div",J,[(i(!0),m(h,null,y(d.schemas,(a,k)=>(i(),j(v,{key:"a"+k},{default:l(()=>[o(b,null,{default:l(()=>[p(" Name:"+r(a.name)+" ",1),K,p(" Collection:"+r(a.collectionName)+" ",1),O,p(" Type:"+r(a.type)+" ",1),P]),_:2},1024)]),_:2},1024))),128))]),t("div",W,[o(C,{modelValue:e.newCollection.name,"onUpdate:modelValue":s[1]||(s[1]=a=>e.newCollection.name=a),outlined:"",label:"Name"},null,8,["modelValue"]),o(C,{modelValue:e.newCollection.collectionName,"onUpdate:modelValue":s[2]||(s[2]=a=>e.newCollection.collectionName=a),outlined:"",label:"Collection"},null,8,["modelValue"]),o(q,{outlined:"",modelValue:e.newCollection.type,"onUpdate:modelValue":s[3]||(s[3]=a=>e.newCollection.type=a),options:e.types,label:"Class Type"},null,8,["modelValue","options"]),o(A,{avatar:""},{default:l(()=>[t("button",{class:"btn btn-green",onClick:a=>c(d)},"Add Entity",8,X)]),_:2},1024)])])]),_:2},1024),o(b,{class:"col-5 flex flex-center"})]),_:2},1024),o(M),o(B,null,{default:l(()=>[o(T,{flat:"",round:"",icon:"event"}),t("button",{class:"btn-squar btn-red",onClick:s[4]||(s[4]=a=>u.removeFunction(u.item))},Z)]),_:1})]),_:2},1024)]))),128))])]))}});export{le as default};
