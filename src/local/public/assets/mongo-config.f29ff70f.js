import{a4 as V,i as Q,a6 as k,r as S,aK as f,K as D,o as i,b as m,a3 as p,t as r,a as t,e as o,a9 as C,a0 as y,a1 as v,w as l,bl as b,c as M,aM as w,W as B,bm as T,f as q}from"./index.66a65c15.js";import{Q as A}from"./QSelect.6fdaa0a2.js";import{c as U}from"./QItemLabel.de72d5e0.js";import{u as j}from"./use-quasar.967395eb.js";import"./selection.8299b8f1.js";import"./rtl.b51694b1.js";const h=V();class E{static getTypes(){let n=[];for(let e of h.project.modules)for(let c of e.models)n.push(e.name+"."+c.name);return n}static getVariables(n,e,c){h.project.modules.filter(_=>_.name==n)[0]}}const I={class:"card"},F={class:"card-header"},K=t("span",{class:"title"},"Mongo Databses",-1),$={class:"row"},z={class:"card-body row"},L=t("div",{class:"text-overline"},"Mongo Database",-1),R={class:"text-h5 q-mt-sm q-mb-xs"},W={class:"row"},G={class:"row"},H=t("br",null,null,-1),J=t("br",null,null,-1),O=t("br",null,null,-1),P={style:{width:"200px"}},X=["onClick"],Y=t("i",{class:"text-md fas fa-trash-alt"},null,-1),Z=[Y],ne=Q({__name:"mongo-config",setup(g){j();const n=V();k();const e=S({databses:[],types:[],dbname:"",newCollection:new f.MongoCollection});D(()=>{e.databses=n.project.mongoDatabses,e.types=E.getTypes()});function c(u){u.schemas.push(e.newCollection),e.newCollection=new f.MongoCollection}function _(){e.databses.push(new f.MongoDatabase({name:e.dbname}))}return(u,s)=>(i(),m("div",I,[p(r(e.databses)+" ",1),t("div",F,[K,t("div",$,[o(C,{modelValue:e.dbname,"onUpdate:modelValue":s[0]||(s[0]=d=>e.dbname=d),outlined:"",label:"Name"},null,8,["modelValue"]),t("button",{class:"btn btn-green",onClick:_},"Add Databse")])]),t("div",z,[(i(!0),m(y,null,v(e.databses,(d,x)=>(i(),m("div",{class:"col-12",key:x},[o(w,{class:"my-card",flat:"",bordered:""},{default:l(()=>[o(b,{horizontal:""},{default:l(()=>[o(b,{class:"q-pt-xs"},{default:l(()=>[L,t("div",R,r(d.name),1),t("div",W,[t("div",G,[(i(!0),m(y,null,v(d.schemas,(a,N)=>(i(),M(w,{key:"a"+N},{default:l(()=>[o(b,null,{default:l(()=>[p(" Name:"+r(a.name)+" ",1),H,p(" Collection:"+r(a.collectionName)+" ",1),J,p(" Type:"+r(a.type)+" ",1),O]),_:2},1024)]),_:2},1024))),128))]),t("div",P,[o(C,{modelValue:e.newCollection.name,"onUpdate:modelValue":s[1]||(s[1]=a=>e.newCollection.name=a),outlined:"",label:"Name"},null,8,["modelValue"]),o(C,{modelValue:e.newCollection.collectionName,"onUpdate:modelValue":s[2]||(s[2]=a=>e.newCollection.collectionName=a),outlined:"",label:"Collection"},null,8,["modelValue"]),o(A,{outlined:"",modelValue:e.newCollection.type,"onUpdate:modelValue":s[3]||(s[3]=a=>e.newCollection.type=a),options:e.types,label:"Class Type"},null,8,["modelValue","options"]),o(U,{avatar:""},{default:l(()=>[t("button",{class:"btn btn-green",onClick:a=>c(d)},"Add Entity",8,X)]),_:2},1024)])])]),_:2},1024),o(b,{class:"col-5 flex flex-center"})]),_:2},1024),o(B),o(T,null,{default:l(()=>[o(q,{flat:"",round:"",icon:"event"}),t("button",{class:"btn-squar btn-red",onClick:s[4]||(s[4]=a=>u.removeFunction(u.item))},Z)]),_:1})]),_:2},1024)]))),128))])]))}});export{ne as default};
